<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Помощник по выбору направления поступления</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <h1>Пожалуйста, укажите следующие данные:</h1>
    <form action="/recommendation" method="post">
        <label for="subject_count">Количество сданных предметов:</label><br>
        <select id="subject_count" name="subject_count" onchange="showSubjectInputs()">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select><br><br>
        
        <div id="subjectInputs">
            <!-- Поля для выбора предметов и ввода баллов будут отображены здесь -->
        </div>
        
        <label for="desired_profession">Желаемая профессия:</label><br>
        <input type="text" id="desired_profession" name="desired_profession" required><br><br>
        
        <input type="submit" value="Получить рекомендацию">
    </form>

    <script>
        function showSubjectInputs() {
            var subjectCountSelect = document.getElementById("subject_count");
            var subjectCount = subjectCountSelect.value;
            var subjectInputsDiv = document.getElementById("subjectInputs");
            subjectInputsDiv.innerHTML = ""; // Очистка предыдущего содержимого

            var subjects = ["Математика", "Русский язык", "Информатика", "Физика", "Биология", "Химия"];

            for (var i = 1; i <= subjectCount; i++) {
                var subjectDiv = document.createElement("div");
                
                var subjectLabel = document.createElement("label");
                subjectLabel.textContent = "Предмет " + i + ": ";
                var subjectSelect = document.createElement("select");
                subjectSelect.name = "subject" + i;
                subjectSelect.required = true;

                for (var j = 0; j < subjects.length; j++) {
                    var option = document.createElement("option");
                    option.text = subjects[j];
                    subjectSelect.add(option);
                }

                var scoreLabel = document.createElement("label");
                scoreLabel.textContent = "Баллы по предмету " + i + ": ";
                var scoreInput = document.createElement("input");
                scoreInput.type = "number";
                scoreInput.name = "score" + i;
                scoreInput.required = true;
                scoreInput.min = "0";

                subjectDiv.appendChild(subjectLabel);
                subjectDiv.appendChild(subjectSelect);
                subjectDiv.appendChild(document.createElement("br"));
                subjectDiv.appendChild(scoreLabel);
                subjectDiv.appendChild(scoreInput);
                subjectDiv.appendChild(document.createElement("br"));

                subjectInputsDiv.appendChild(subjectDiv);
            }
        }

        // Вызвать функцию при загрузке страницы, чтобы отобразить правильное количество полей для ввода
        window.onload = showSubjectInputs;
    </script>
</body>
</html>
